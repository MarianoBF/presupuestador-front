(this["webpackJsonppresupuestador-front"]=this["webpackJsonppresupuestador-front"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(30),i=a.n(r),o=(a(55),a(78),a(26)),s=a(21),d=a(6),l=a(8),j=a(14),u=a(28),b=a(11),O=a(45),m=a(46),h=a(68),x=a.n(h).a.create({baseURL:"http://localhost:8080/api/",headers:{"Content-type":"application/json"}}),g=new(function(){function e(){Object(O.a)(this,e)}return Object(m.a)(e,[{key:"getAll",value:function(){return x.get("/entries")}},{key:"create",value:function(e){return x.post("/entry",e)}},{key:"delete",value:function(e){return x.delete("/entry/".concat(e))}},{key:"deleteAll",value:function(){return x.delete("/entries")}},{key:"update",value:function(e,t){return x.put("/entry/".concat(e),t)}}]),e}()),p=new(function(){function e(){Object(O.a)(this,e)}return Object(m.a)(e,[{key:"getAll",value:function(){return x.get("/budget")}},{key:"create",value:function(e){return x.post("/budget",e)}},{key:"delete",value:function(e){return x.delete("/budget/".concat(e))}},{key:"deleteAll",value:function(){return x.delete("/budget")}}]),e}()),f=a(1),v=function(){var e=Object(c.useState)({date:"",category:"",description:"",amount:"",kind:""}),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),O=i[0],m=i[1],h=Object(c.useState)(!1),x=Object(d.a)(h,2),v=x[0],y=x[1],C=Object(c.useState)(""),S=Object(d.a)(C,2),N=S[0],k=S[1],T=function(e){var t=e.target,c=t.name,r=t.value;n(Object(s.a)(Object(s.a)({},a),{},Object(o.a)({},c,r)))},E=Object(c.useState)([]),I=Object(d.a)(E,2),B=I[0],M=I[1];Object(c.useEffect)((function(){p.getAll().then((function(e){var t=e.data;M(t.map((function(e){return e.category})))})).catch((function(e){y(!0),k("No se pudo recuperar el listado de categor\xedas, problemas de conexi\xf3n con el servidor."),setTimeout((function(){y(!1),k("")}),15e3)}))}),[]);var A=B.map((function(e){return Object(f.jsx)("option",{children:e},e)}));return Object(f.jsxs)("div",{className:"centeredContainer",children:[Object(f.jsx)("h1",{children:"Desde esta secci\xf3n podes cargar los nuevos movimientos"}),O&&Object(f.jsx)(b.a,{variant:"success",onClose:function(){return m(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:"Movimiento agregado con \xe9xito"})}),v&&Object(f.jsx)(b.a,{variant:"danger",onClose:function(){return y(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:N||"No se pudo agregar el movimiento, error de servidor"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"(Todos los campos son obligatorios)"}),Object(f.jsxs)(l.a,{onSubmit:function(e){e.preventDefault();var t={date:a.date,category:a.category,description:a.description,amount:a.amount,kind:a.kind};g.create(t).then((function(){y(!1),m(!0),setTimeout((function(){return m(!1)}),4e3)})).catch((function(e){m(!1),y(!0),e.response.data.message&&k(e.response.data.message),setTimeout((function(){y(!1),k("")}),15e3)}))},children:[Object(f.jsx)(u.a,{md:6,className:"centeredContainer",children:Object(f.jsxs)(l.a.Group,{children:[Object(f.jsx)(l.a.Label,{children:"Fecha del movimiento: "}),Object(f.jsx)(l.a.Control,{type:"date",value:a.date,onChange:T,name:"date",required:!0}),Object(f.jsx)(l.a.Label,{children:"Concepto del movimiento: "}),Object(f.jsxs)(l.a.Control,{as:"select",value:a.category,onChange:T,name:"category",required:!0,children:[Object(f.jsx)("option",{}),A]}),Object(f.jsx)(l.a.Label,{children:"Observaciones del movimiento: "}),Object(f.jsx)(l.a.Control,{type:"text",value:a.description,onChange:T,name:"description"}),Object(f.jsx)(l.a.Label,{children:"Monto del movimiento: "}),Object(f.jsx)(l.a.Control,{type:"number",value:a.amount,onChange:T,name:"amount",max:"1000000",min:"0",required:!0}),Object(f.jsx)(l.a.Label,{children:"Tipo de movimiento (egreso/ingreso): "}),Object(f.jsxs)(l.a.Control,{as:"select",value:a.kind,onChange:T,name:"kind",required:!0,children:[Object(f.jsx)("option",{}),Object(f.jsx)("option",{value:"Egreso",children:"Egreso"}),Object(f.jsx)("option",{value:"Ingreso",children:"Ingreso"})]})]})}),Object(f.jsx)(j.a,{type:"submit",className:"spacedButton",children:"Guardar"})]})]})]})};var y=function(){var e=Object(c.useState)({category:"",description:"",limit:""}),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),O=i[0],m=i[1],h=Object(c.useState)(!1),x=Object(d.a)(h,2),g=x[0],v=x[1],y=function(e){var t=e.target,c=t.name,r=t.value;n(Object(s.a)(Object(s.a)({},a),{},Object(o.a)({},c,r)))};return Object(f.jsxs)("div",{className:"centeredContainer",children:[Object(f.jsx)("h1",{children:"Desde esta secci\xf3n pod\xe9s cargar nuevos rubros / categor\xedas para ordenar tus movimientos."}),O&&Object(f.jsx)(b.a,{variant:"success",onClose:function(){return m(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:"Categor\xeda de presupuesto agregada con \xe9xito."})}),g&&Object(f.jsx)(b.a,{variant:"danger",onClose:function(){return v(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:"No se pudo agregar la categor\xeda, posible nombre duplicado."})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{variant:"danger",children:"(Todos los campos son obligatorios)"}),Object(f.jsxs)(l.a,{onSubmit:function(e){e.preventDefault();var t={category:a.category,description:a.description,limit:a.limit};p.create(t).then((function(){m(!0),setTimeout((function(){return m(!1)}),4e3)})).catch((function(){v(!0),setTimeout((function(){return v(!1)}),15e3)}))},children:[Object(f.jsx)(u.a,{md:6,className:"centeredContainer",children:Object(f.jsxs)(l.a.Group,{children:[Object(f.jsx)(l.a.Label,{children:"Nombre para el rubro / concepto: "}),Object(f.jsx)(l.a.Control,{type:"text",value:a.category,onChange:y,name:"category",required:!0}),Object(f.jsxs)(l.a.Label,{children:["Descripci\xf3n extensa sobre qu\xe9 incluye el rubro:"," "]}),Object(f.jsx)(l.a.Control,{type:"text",value:a.description,onChange:y,name:"description",required:!0}),Object(f.jsx)(l.a.Label,{children:"Monto mensual objetivo para el rubro: "}),Object(f.jsx)(l.a.Control,{type:"number",value:a.limit,onChange:y,name:"limit",max:"10000000",min:"0",required:!0})]})}),Object(f.jsx)(j.a,{type:"submit",className:"spacedButton",children:"Guardar"})]})]})]})},C=a(35),S=a(9),N=a.n(S),k=(a(57),a(15)),T=a(34);N.a.locale("es"),N.a.defaultFormat("$0,0.00");var E=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),i=Object(d.a)(r,2),O=i[0],m=i[1],h=Object(c.useState)([]),x=Object(d.a)(h,2),v=x[0],y=x[1],S=Object(c.useState)(!!JSON.parse(localStorage.getItem("showIncome"))&&JSON.parse(localStorage.getItem("showIncome"))),E=Object(d.a)(S,2),I=E[0],B=E[1],M=Object(c.useState)(!1),A=Object(d.a)(M,2),F=A[0],R=A[1],L=Object(c.useState)(!1),J=Object(d.a)(L,2),q=J[0],z=J[1],D=Object(c.useState)(""),w=Object(d.a)(D,2),G=w[0],P=w[1],H=Object(c.useState)(!1),$=Object(d.a)(H,2),K=$[0],U=$[1],Q=Object(c.useState)(!1),V=Object(d.a)(Q,2),W=V[0],X=V[1],Y=Object(f.jsx)("td",{colspan:"6",children:Object(f.jsx)(b.a,{variant:"info",children:"No existen datos para la opci\xf3n elegida"})});Object(c.useEffect)((function(){g.getAll().then((function(e){var t=e.data;m(t.filter((function(e){return"Egreso"===e.kind}))),y(t.filter((function(e){return"Ingreso"===e.kind}))),n(!1)})).catch((function(){z(!0),P("No se ha podido conectar con el servidor"),setTimeout((function(){z(!1),P("")}),1e4)}))}),[K,W]);var Z=function(e){g.delete(e).then((function(e){z(!1),X(!1),U(!0),setTimeout((function(){return U(!1)}),4e3)})).catch((function(){X(!1),U(!1),z(!0),P("No se ha podido borrar el movimiento"),setTimeout((function(){z(!1),P("")}),1e4)})),localStorage.setItem("selectedCategory",JSON.stringify(je)),localStorage.setItem("activeFilter",JSON.stringify(me)),localStorage.setItem("showIncome",JSON.stringify(I))},_=Object(c.useState)(),ee=Object(d.a)(_,2),te=ee[0],ae=ee[1],ce=function(e){ae(I?v.filter((function(t){return t.id===e}))[0]:O.filter((function(t){return t.id===e}))[0]),R(!0)},ne=function(e){var t=e.target,a=t.name,c=t.value;ae(Object(s.a)(Object(s.a)({},te),{},Object(o.a)({},a,c)))},re=Object(c.useState)([]),ie=Object(d.a)(re,2),oe=ie[0],se=ie[1];Object(c.useEffect)((function(){p.getAll().then((function(e){var t=e.data;se(t.map((function(e){return e.category})))})).catch((function(){X(!1),U(!1),z(!0),P("No se ha podido borrar el movimiento"),setTimeout((function(){z(!1),P("")}),1e4)}))}),[]);var de=Object(c.useState)(JSON.parse(localStorage.getItem("selectedCategory"))?JSON.parse(localStorage.getItem("selectedCategory")):""),le=Object(d.a)(de,2),je=le[0],ue=le[1],be=Object(c.useState)(!!JSON.parse(localStorage.getItem("activeFilter"))&&JSON.parse(localStorage.getItem("activeFilter"))),Oe=Object(d.a)(be,2),me=Oe[0],he=Oe[1],xe=function(){he(!1),ue("Todos"),localStorage.setItem("selectedCategory",JSON.stringify("")),localStorage.setItem("activeFilter",JSON.stringify(!1))},ge=v.filter((function(e){return e.category===je})).map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.date.slice(0,10)}),Object(f.jsx)("td",{children:e.category}),Object(f.jsx)("td",{children:e.description}),Object(f.jsx)("td",{children:+e.amount.toFixed(2)}),Object(f.jsx)("td",{className:"editCell",onClick:function(){return ce(e.id)},children:"Editar"}),Object(f.jsx)("td",{className:"deleteCell",onClick:function(){return Z(e.id)},children:"Borrar"})]},e.id)})),pe=v.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.date.slice(0,10)}),Object(f.jsx)("td",{children:e.category}),Object(f.jsx)("td",{children:e.description}),Object(f.jsx)("td",{children:N()(e.amount).format()}),Object(f.jsx)("td",{className:"editCell",onClick:function(){return ce(e.id)},children:"Editar"}),Object(f.jsx)("td",{className:"deleteCell",onClick:function(){return Z(e.id)},children:"Borrar"})]},e.id)})),fe=O.filter((function(e){return e.category===je})).map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.date.slice(0,10)}),Object(f.jsx)("td",{children:e.category}),Object(f.jsx)("td",{children:e.description}),Object(f.jsx)("td",{children:+e.amount.toFixed(2)}),Object(f.jsx)("td",{className:"editCell",onClick:function(){return ce(e.id)},children:"Editar"}),Object(f.jsx)("td",{className:"deleteCell",onClick:function(){return Z(e.id)},children:"Borrar"})]},e.id)})),ve=O.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.date.slice(0,10)}),Object(f.jsx)("td",{children:e.category}),Object(f.jsx)("td",{children:e.description}),Object(f.jsx)("td",{children:N()(e.amount).format()}),Object(f.jsx)("td",{className:"editCell",onClick:function(){return ce(e.id)},children:"Editar"}),Object(f.jsx)("td",{className:"deleteCell",onClick:function(){return Z(e.id)},children:"Borrar"})]},e.id)})),ye=[Object(f.jsx)("option",{children:"Todos"},"Todos"),oe.map((function(e){return Object(f.jsx)("option",{children:e},e)}))];return a?Object(f.jsx)("div",{className:"loading",children:Object(f.jsx)(T.a,{animation:"grow",variant:"success"})}):0===O.length&&0===v.length?Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"A\xfan no ten\xe9s movimientos cargados"}),Object(f.jsx)(k.b,{to:"/add",children:Object(f.jsx)("button",{children:" Sumar movimiento "})})]}):Object(f.jsxs)("div",{children:[F?null:Object(f.jsxs)("header",{className:"centeredHeader",children:[Object(f.jsxs)("h1",{children:["Listado de ",I?"ingresos":"gastos"," cargados"]}),K&&Object(f.jsx)(b.a,{variant:"success",onClose:function(){return U(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:"Movimiento borrado con \xe9xito"})}),W&&Object(f.jsx)(b.a,{variant:"success",onClose:function(){return X(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:"Movimiento editado con \xe9xito"})}),q&&Object(f.jsx)(b.a,{variant:"danger",onClose:function(){return z(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:G||"Error de servidor"})}),Object(f.jsxs)(j.a,{className:"spacedButton",onClick:function(){B(!I),localStorage.setItem("showIncome",JSON.stringify(!I))},variant:"primary",children:[" ","Mejor mostrame los ",I?"Gastos":"Ingresos"]}),Object(f.jsxs)(l.a,{children:[Object(f.jsx)(l.a.Label,{children:"Filtrame por el siguiente Rubro: "}),Object(f.jsx)(l.a.Control,{className:"civilizedDropdown",as:"select",value:je,onChange:function(e){"Todos"===e.target.value?xe():(he(!0),ue(e.target.value),localStorage.setItem("selectedCategory",JSON.stringify(e.target.value)),localStorage.setItem("activeFilter",JSON.stringify(!0)))},name:"category",children:ye}),Object(f.jsxs)(j.a,{className:"spacedButton",onClick:xe,variant:"secondary",children:[" ","Resetear Filtro"]})]})]}),F?Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"secondaryTitle",children:"Editando movimiento:"}),Object(f.jsx)(l.a,{onSubmit:function(e){e.preventDefault();try{var t={id:te.id,date:te.date,category:te.category,description:te.description,amount:te.amount,kind:te.kind};g.update(t.id,t).then((function(e){R(!1),z(!1),U(!1),X(!0),setTimeout((function(){return X(!1)}),4e3)})).catch((function(){X(!1),U(!1),z(!0),P("No se ha podido editar el movimiento"),setTimeout((function(){z(!1),P("")}),1e4)}))}finally{R(!1),ae("")}},children:Object(f.jsxs)(u.a,{md:6,className:"centeredContainer",children:[Object(f.jsx)(l.a.Label,{children:"Fecha:"}),Object(f.jsx)(l.a.Control,{value:te.date.slice(0,10),onChange:ne,type:"date",name:"date",required:!0}),Object(f.jsx)(l.a.Label,{children:"Categor\xeda:"}),Object(f.jsxs)(l.a.Control,{as:"select",value:te.category,onChange:ne,name:"category",required:!0,children:[Object(f.jsx)("option",{}),ye]}),Object(f.jsx)(l.a.Label,{children:"Descripci\xf3n:"}),Object(f.jsx)(l.a.Control,{value:te.description,onChange:ne,type:"text",name:"description",required:!0}),Object(f.jsx)(l.a.Label,{children:"Monto:"}),Object(f.jsx)(l.a.Control,{value:te.amount,onChange:ne,type:"number",name:"amount",max:"1000000",min:"0",required:!0}),Object(f.jsx)(j.a,{className:"spacedButton",type:"submit",variant:"primary",children:"Guardar Edici\xf3n"})," ",Object(f.jsx)(j.a,{className:"spacedButton",onClick:function(){R(!1),ae(void 0)},variant:"secondary",children:"Cancelar Edici\xf3n"})]})})]}):null,!1===F?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(C.a,{responsive:"md",striped:!0,size:"sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Fecha"}),Object(f.jsx)("th",{children:"Rubro al que corresponde"}),Object(f.jsx)("th",{children:"Descripci\xf3n del gasto"}),Object(f.jsx)("th",{children:"Monto"}),Object(f.jsx)("th",{children:"Editar"}),Object(f.jsx)("th",{children:"Borrar"})]})}),Object(f.jsx)("tbody",{className:"tableText",children:!0===me?I?ge&&ge.length>0?ge:Y:fe&&fe.length>0?fe:Y:I?pe&&pe.length>0?pe:Y:ve&&ve.length>0?ve:Y})]})}):null]})},I=a(73),B=a(71);var M=function(){N.a.locale("es"),N.a.defaultFormat("$0,0.00");var e=Object(c.useState)(0),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(!1),j=Object(d.a)(l,2),u=j[0],O=j[1],m=Object(c.useState)(!1),h=Object(d.a)(m,2),x=h[0],v=h[1],y=Object(c.useState)(""),S=Object(d.a)(y,2),k=S[0],E=S[1];Object(c.useEffect)((function(){g.getAll().then((function(e){var t=e.data;s(t),n((function(e){return e+1}))})).catch((function(){v(!0),E("No se ha podido conectar con el servidor"),setTimeout((function(){v(!1),E("")}),1e4)}))}),[u]);var M=Object(c.useState)([]),A=Object(d.a)(M,2),F=A[0],R=A[1],L=Object(c.useState)([]),J=Object(d.a)(L,2),q=J[0],z=J[1];Object(c.useEffect)((function(){p.getAll().then((function(e){var t=e.data;R(t),z(t.map((function(e){return e.category}))),n((function(e){return e+1}))})).catch((function(){v(!0),E("No se ha podido conectar con el servidor"),setTimeout((function(){v(!1),E("")}),1e4)}))}),[u]);var D=Object(c.useState)([]),w=Object(d.a)(D,2),G=w[0],P=w[1];Object(c.useEffect)((function(){if(2===a){var e,t=Object(B.a)(q);try{var c=function(){var t=e.value,a=o.filter((function(e){return e.category===t})),c=a.filter((function(e){return"Ingreso"===e.kind})).reduce((function(e,t){return e+t.amount}),0)-a.filter((function(e){return"Egreso"===e.kind})).reduce((function(e,t){return e+t.amount}),0);P((function(e){return[].concat(Object(I.a)(e),[c])})),n(!0)};for(t.s();!(e=t.n()).done;)c()}catch(r){t.e(r)}finally{t.f()}}}),[a]);var H=F.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.category}),Object(f.jsx)("td",{children:e.description}),Object(f.jsx)("td",{children:N()(e.limit).format()}),Object(f.jsx)("td",{children:o.filter((function(t){return t.category===e.category})).length}),Object(f.jsx)("td",{children:N()(G[t]).format()}),Object(f.jsx)("td",{className:e.limit-G[t]<0?"redText":"",children:G[t]>0?N()(e.limit-G[t]).format():N()(e.limit+G[t]).format()}),Object(f.jsx)("td",{className:"deleteCell",onClick:function(){return t=e.id,a=e.category,void(0===o.filter((function(e){return e.category===a})).length?p.delete(t).then((function(e){v(!1),O(!0),setTimeout((function(){return O(!1)}),4e3)})).catch((function(){v(!0),E("No se ha podido borrar la categor\xeda"),setTimeout((function(){v(!1),E("")}),1e4)})):(O(!1),v(!0),E("Esta categor\xeda a\xfan tiene movimientos. Se deben borrar todos los movimientos de la categor\xeda para poder borrarla."),setTimeout((function(){v(!1),E("")}),1e4)));var t,a},children:"Borrar"})]},e.id)})),$=N()(F.reduce((function(e,t){return e+t.limit}),0)).format(),K=N()(F.reduce((function(e,t){return e+t.limit}),0)-G.reduce((function(e,t){return t>0?e+t:e-t}),0)).format();return a&&1!==a?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Presupuesto actual"}),u&&Object(f.jsx)(b.a,{variant:"success",onClose:function(){return O(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:"L\xednea de presupuesto borrada con \xe9xito"})}),x&&Object(f.jsx)(b.a,{variant:"danger",onClose:function(){return v(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:k||"Error de servidor"})}),Object(f.jsxs)(C.a,{responsive:"md",striped:!0,size:"sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Rubro"}),Object(f.jsx)("th",{children:"Descripci\xf3n"}),Object(f.jsx)("th",{children:"Monto Previsto"}),Object(f.jsx)("th",{children:"Cantidad de Movimientos Registrados"}),Object(f.jsx)("th",{children:"Movimientos Registrados (ingresos-egreso)"}),Object(f.jsx)("th",{children:"Diferencia"}),Object(f.jsx)("th",{children:"Borrar"})]})}),Object(f.jsxs)("tbody",{className:"tableText",children:[a&&H,Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Totales:"}),Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:$}),Object(f.jsx)("th",{}),Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:K}),Object(f.jsx)("th",{})]})]})]})]}):Object(f.jsx)("div",{className:"loading",children:Object(f.jsx)(T.a,{animation:"grow",variant:"success"})})},A=[{date:"2021-04-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-04-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-03-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-03-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-04-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-04-01",category:"Mercado",description:"Art\xedculos de limpieza para Ricarda",amount:3e3,kind:"Egreso"},{date:"2021-04-01",category:"Mercado",description:"Compra mensual de Ricarda",amount:7500,kind:"Egreso"},{date:"2021-04-01",category:"Mercado",description:"Compras de la verduler\xeda",amount:3e3,kind:"Egreso"},{date:"2021-03-01",category:"Mercado",description:"Art\xedculos de limpieza para Ricarda",amount:3e3,kind:"Egreso"},{date:"2021-03-01",category:"Mercado",description:"Compra mensual de Ricarda",amount:7500,kind:"Egreso"},{date:"2021-03-01",category:"Mercado",description:"Compras de la verduler\xeda",amount:3e3,kind:"Egreso"},{date:"2021-03-01",category:"Servicios",description:"Garrafa de gas",amount:1e3,kind:"Egreso"},{date:"2021-03-01",category:"Servicios",description:"Garrafa de gas",amount:1e3,kind:"Egreso"},{date:"2021-04-01",category:"Servicios",description:"Garrafa de gas",amount:1e3,kind:"Egreso"},{date:"2021-04-01",category:"Servicios",description:"Garrafa de gas",amount:1e3,kind:"Egreso"},{date:"2021-04-01",category:"Servicios",description:"Devoluci\xf3n se\xf1a",amount:500,kind:"Ingreso"},{date:"2021-04-01",category:"Servicios",description:"Electricidad del mes de marzo",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Servicios",description:"Agua del mes de marzo",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Comidas",description:"Cena cumplea\xf1os",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Comidas",description:"Cena cumplea\xf1os",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Comidas",description:"Cena cumplea\xf1os",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Comidas",description:"Cena cumplea\xf1os",amount:2e3,kind:"Egreso"}],F=[{category:"Comidas",description:"Gastos en comer en la calle",limit:1e4},{category:"Mercado",description:"Compras en el mercado",limit:1e4},{category:"Servicios",description:"Pagos de servicios p\xfablicos",limit:5e3},{category:"Trabajos",description:"Ingresos por trabajos",limit:8e4}],R=a(39);function L(e){return Object(f.jsxs)(R.a,Object(s.a)(Object(s.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(f.jsx)(R.a.Header,{closeButton:!0,children:Object(f.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Modal de Confirmaci\xf3n"})}),Object(f.jsx)(R.a.Body,{children:Object(f.jsx)("p",{children:e.message})}),Object(f.jsxs)(R.a.Footer,{children:[Object(f.jsx)(j.a,{variant:"secondary",onClick:e.handleCancel,children:"Cancelar"}),Object(f.jsx)(j.a,{variant:"primary",onClick:e.handleOK,children:"Confirmar"})," "]})]}))}var J=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(!1),u=Object(d.a)(l,2),O=u[0],m=u[1],h=Object(c.useState)(""),x=Object(d.a)(h,2),v=x[0],y=x[1],C=Object(c.useState)(!1),S=Object(d.a)(C,2),N=S[0],T=S[1],E=function(e){if(T(!1),e)try{p.deleteAll(),g.deleteAll(),m(!1),n(!1),s(!0)}catch(t){n(!1),s(!1),m(!0),y("No se han podido borrar los datos.")}};return Object(f.jsxs)("div",{className:"centeredContainer",children:[Object(f.jsx)("h1",{children:"Opciones de configuraci\xf3n"}),Object(f.jsx)(j.a,{className:"spacedButton",onClick:function(){var e=!0;F.forEach((function(t){var a={category:t.category,description:t.description,limit:t.limit};p.create(a).then((function(t){!0===e&&(A.forEach((function(e){var t={date:e.date,category:e.category,description:e.description,amount:e.amount,kind:e.kind};g.create(t).then((function(e){m(!1),s(!1),n(!0)})).catch((function(e){n(!1),s(!1),m(!0),y("No se han podido cargar datos de prueba, ya est\xe1n cargados o se ha producido un error.")}))})),e=!1)})).catch((function(e){n(!1),s(!1),m(!0),y("No se han podido cargar datos de prueba, ya est\xe1n cargados o se ha producido un error.")}))}))},variant:"secondary",children:"Cargar datos de prueba"})," ",Object(f.jsx)(j.a,{className:"spacedButton",onClick:function(){T(!0)},variant:"danger",children:"Borrar todos los datos"}),a&&Object(f.jsx)("div",{children:Object(f.jsxs)(b.a,{variant:"success",onClose:function(){return n(!1)},dismissible:!0,children:[Object(f.jsx)("p",{className:"blueText",children:"Datos de prueba cargados exitosamente."}),Object(f.jsx)(k.b,{to:"/entries",children:Object(f.jsx)("button",{children:" Ir al listado "})})]})}),o&&Object(f.jsx)(b.a,{variant:"success",onClose:function(){return s(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:"Se borraron todos los datos exitosamente"})}),O&&Object(f.jsx)(b.a,{variant:"danger",onClose:function(){return m(!1)},dismissible:!0,children:Object(f.jsx)("p",{className:"redText",children:v})}),Object(f.jsx)(L,{show:N,message:"Esto es irreversible, vas a borrar todos los datos y no se puede recuperar, \xbfest\xe1s seguro?",onHide:function(){return T(!1)},handleCancel:function(){return E(!1)},handleOK:function(){return E(!0)}})]})};var q=function(){N.a.locale("es"),N.a.defaultFormat("$0,0.00");var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(0),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(0),j=Object(d.a)(l,2),u=j[0],O=j[1],m=Object(c.useState)(!0),h=Object(d.a)(m,2),x=h[0],p=h[1],v=Object(c.useState)(!1),y=Object(d.a)(v,2),S=y[0],k=y[1],E=Object(c.useState)(""),I=Object(d.a)(E,2),B=I[0],M=I[1];Object(c.useEffect)((function(){g.getAll().then((function(e){var t=e.data;n(t),s(t.filter((function(e){return"Egreso"===e.kind})).reduce((function(e,t){return e+t.amount}),0)),O(t.filter((function(e){return"Ingreso"===e.kind})).reduce((function(e,t){return e+t.amount}),0)),p(!1)})).catch((function(e){k(!0),M("No se pudo recuperar la informaci\xf3n, problemas de conexi\xf3n con el servidor."),setTimeout((function(){k(!1),M("")}),15e3)}))}),[]);var A=a.filter((function(e){return null!==e.date})).sort((function(e,t){return e.createdAt<t.createdAt?1:-1})).slice(0,10).map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.date.slice(0,10)}),Object(f.jsx)("td",{children:e.category}),Object(f.jsx)("td",{children:e.description}),Object(f.jsx)("td",{children:N()(e.amount).format()}),Object(f.jsx)("td",{children:e.kind})]},e.id)}));return x?Object(f.jsx)("div",{className:"loading",children:Object(f.jsx)(T.a,{animation:"grow",variant:"success"})}):Object(f.jsxs)("div",{className:"centeredContainer",children:[Object(f.jsx)("h1",{children:"Posici\xf3n consolidada"}),S&&Object(f.jsx)(b.a,{variant:"danger",onClose:function(){return k(!1)},dismissible:!0,children:Object(f.jsx)("p",{children:B})}),Object(f.jsxs)("div",{className:"budgetSummary",children:[Object(f.jsxs)("p",{children:["Total de ingresos: ",N()(u).format()]}),Object(f.jsxs)("p",{className:"redText",children:["Total de gastos: ",N()(o).format()]}),Object(f.jsxs)("p",{className:u-o>0?"budgetSummaryResult":"budgetSummaryResult redText",children:["Saldo actual: ",N()(u-o).format()]})]}),Object(f.jsx)("h2",{className:"secondaryTitle",children:"\xdaltimos 10 movimientos cargados"}),Object(f.jsxs)(C.a,{responsive:"md",hover:!0,striped:!0,size:"sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Fecha"}),Object(f.jsx)("th",{children:"Rubro al que corresponde"}),Object(f.jsx)("th",{children:"Descripci\xf3n del movimiento"}),Object(f.jsx)("th",{children:"Monto"}),Object(f.jsx)("th",{children:"Tipo"})]})}),Object(f.jsx)("tbody",{className:"tableText",children:A})]})]})},z=a(42),D=a(72),w=a.p+"static/media/logo.3a3d5c4c.svg";function G(){return Object(f.jsxs)(z.a,{bg:"dark",variant:"dark",sticky:"top",expand:"md",children:[Object(f.jsx)(z.a.Brand,{children:Object(f.jsxs)(k.b,{to:"/",children:["/Presupuestar\xe9/ ",Object(f.jsx)("img",{className:"logo",src:w,alt:"logo"})]})}),Object(f.jsx)(z.a.Toggle,{}),Object(f.jsx)(z.a.Collapse,{children:Object(f.jsxs)(D.a,{className:"mr-auto",children:[Object(f.jsx)(k.b,{to:"/entries",className:"nav-link",children:"Listar movimientos"}),Object(f.jsx)(k.b,{to:"/add",className:"nav-link",children:"Sumar movimiento"}),Object(f.jsx)(k.b,{to:"/addBudget",className:"nav-link",children:"Sumar categor\xeda de movimiento"}),Object(f.jsx)(k.b,{to:"/budget",className:"nav-link",children:"Presupuesto"}),Object(f.jsx)(k.b,{to:"/config",className:"nav-link",children:"Configuraci\xf3n"})]})})]})}var P=a(10);var H=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(G,{}),Object(f.jsx)("div",{children:Object(f.jsxs)(P.c,{children:[Object(f.jsx)(P.a,{exact:!0,path:"/budget",component:M}),Object(f.jsx)(P.a,{exact:!0,path:"/entries",component:E}),Object(f.jsx)(P.a,{exact:!0,path:"/add",component:v}),Object(f.jsx)(P.a,{exact:!0,path:"/addBudget",component:y}),Object(f.jsx)(P.a,{exact:!0,path:"/config",component:J}),Object(f.jsx)(P.a,{exact:!0,path:"/",component:q})]})})]})};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(k.a,{children:Object(f.jsx)(H,{})})}),document.getElementById("root"))},55:function(e,t,a){}},[[108,1,2]]]);
//# sourceMappingURL=main.40669460.chunk.js.map