(this["webpackJsonppresupuestador-front"]=this["webpackJsonppresupuestador-front"]||[]).push([[0],{108:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(30),i=r.n(a),o=(r(55),r(78),r(26)),s=r(23),d=r(6),l=r(8),u=r(14),j=r(28),b=r(11),O=r(45),m=r(46),h=r(68),x=r.n(h).a.create({baseURL:"http://localhost:8080/api/",headers:{"Content-type":"application/json"}}),g=new(function(){function e(){Object(O.a)(this,e)}return Object(m.a)(e,[{key:"getAll",value:function(){return x.get("/entries")}},{key:"create",value:function(e){return x.post("/entry",e)}},{key:"delete",value:function(e){return x.delete("/entry/".concat(e))}},{key:"deleteAll",value:function(){return x.delete("/entries")}},{key:"update",value:function(e,t){return x.put("/entry/".concat(e),t)}}]),e}()),p=new(function(){function e(){Object(O.a)(this,e)}return Object(m.a)(e,[{key:"getAll",value:function(){return x.get("/budget")}},{key:"create",value:function(e){return x.post("/budget",e)}},{key:"delete",value:function(e){return x.delete("/budget/".concat(e))}},{key:"deleteAll",value:function(){return x.delete("/budget")}}]),e}()),f=function(){var e=Object(c.useRef)(!1);return Object(c.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e},v=r(1),y=function(){var e=Object(c.useState)({date:"",category:"",description:"",amount:"",kind:""}),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(!1),i=Object(d.a)(a,2),O=i[0],m=i[1],h=Object(c.useState)(!1),x=Object(d.a)(h,2),y=x[0],C=x[1],S=Object(c.useState)(""),N=Object(d.a)(S,2),k=N[0],T=N[1],E=function(e){var t=e.target,c=t.name,a=t.value;n(Object(s.a)(Object(s.a)({},r),{},Object(o.a)({},c,a)))},I=Object(c.useState)([]),R=Object(d.a)(I,2),B=R[0],M=R[1],A=f(),F=Object(c.useRef)(!0);Object(c.useEffect)((function(){p.getAll().then((function(e){var t=e.data;A.current&&M(t.map((function(e){return e.category})))})).catch((function(e){A.current&&(C(!0),T("No se pudo recuperar el listado de categor\xedas, problemas de conexi\xf3n con el servidor."),F.current=setTimeout((function(){C(!1),T("")}),15e3))}))}),[A]);var L=B.map((function(e){return Object(v.jsx)("option",{children:e},e)}));return Object(v.jsxs)("div",{className:"centeredContainer",children:[Object(v.jsx)("h1",{children:"Desde esta secci\xf3n podes cargar los nuevos movimientos"}),O&&Object(v.jsx)(b.a,{variant:"success",onClose:function(){return m(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:"Movimiento agregado con \xe9xito"})}),y&&Object(v.jsx)(b.a,{variant:"danger",onClose:function(){return C(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:k||"No se pudo agregar el movimiento, error de servidor"})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"(Todos los campos son obligatorios)"}),Object(v.jsxs)(l.a,{onSubmit:function(e){e.preventDefault();var t={date:r.date,category:r.category,description:r.description,amount:r.amount,kind:r.kind};g.create(t).then((function(){A.current&&(C(!1),m(!0),F.current=setTimeout((function(){return m(!1)}),4e3))})).catch((function(e){A.current&&(m(!1),C(!0),e.response.data.message&&T(e.response.data.message),F.current=setTimeout((function(){C(!1),T("")}),15e3))}))},children:[Object(v.jsx)(j.a,{md:6,className:"centeredContainer",children:Object(v.jsxs)(l.a.Group,{children:[Object(v.jsx)(l.a.Label,{children:"Fecha del movimiento: "}),Object(v.jsx)(l.a.Control,{type:"date",value:r.date,onChange:E,name:"date",required:!0}),Object(v.jsx)(l.a.Label,{children:"Concepto del movimiento: "}),Object(v.jsxs)(l.a.Control,{as:"select",value:r.category,onChange:E,name:"category",required:!0,children:[Object(v.jsx)("option",{}),L]}),Object(v.jsx)(l.a.Label,{children:"Observaciones del movimiento: "}),Object(v.jsx)(l.a.Control,{type:"text",value:r.description,onChange:E,name:"description"}),Object(v.jsx)(l.a.Label,{children:"Monto del movimiento: "}),Object(v.jsx)(l.a.Control,{type:"number",value:r.amount,onChange:E,name:"amount",max:"1000000",min:"0",required:!0}),Object(v.jsx)(l.a.Label,{children:"Tipo de movimiento (egreso/ingreso): "}),Object(v.jsxs)(l.a.Control,{as:"select",value:r.kind,onChange:E,name:"kind",required:!0,children:[Object(v.jsx)("option",{}),Object(v.jsx)("option",{value:"Egreso",children:"Egreso"}),Object(v.jsx)("option",{value:"Ingreso",children:"Ingreso"})]})]})}),Object(v.jsx)(u.a,{type:"submit",className:"spacedButton",children:"Guardar"})]})]})]})};var C=function(){var e=Object(c.useState)({category:"",description:"",limit:""}),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(!1),i=Object(d.a)(a,2),O=i[0],m=i[1],h=Object(c.useState)(!1),x=Object(d.a)(h,2),g=x[0],y=x[1],C=f(),S=Object(c.useRef)(!0),N=function(e){var t=e.target,c=t.name,a=t.value;n(Object(s.a)(Object(s.a)({},r),{},Object(o.a)({},c,a)))};return Object(v.jsxs)("div",{className:"centeredContainer",children:[Object(v.jsx)("h1",{children:"Desde esta secci\xf3n pod\xe9s cargar nuevos rubros / categor\xedas para ordenar tus movimientos."}),O&&Object(v.jsx)(b.a,{variant:"success",onClose:function(){return m(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:"Categor\xeda de presupuesto agregada con \xe9xito."})}),g&&Object(v.jsx)(b.a,{variant:"danger",onClose:function(){return y(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:"No se pudo agregar la categor\xeda, posible nombre duplicado."})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{variant:"danger",children:"(Todos los campos son obligatorios)"}),Object(v.jsxs)(l.a,{onSubmit:function(e){e.preventDefault();var t={category:r.category,description:r.description,limit:r.limit};p.create(t).then((function(){C.current&&(y(!1),m(!0),S.current=setTimeout((function(){return m(!1)}),4e3))})).catch((function(){C.current&&(m(!1),y(!0),S.current=setTimeout((function(){return y(!1)}),15e3))}))},children:[Object(v.jsx)(j.a,{md:6,className:"centeredContainer",children:Object(v.jsxs)(l.a.Group,{children:[Object(v.jsx)(l.a.Label,{children:"Nombre para el rubro / concepto: "}),Object(v.jsx)(l.a.Control,{type:"text",value:r.category,onChange:N,name:"category",required:!0}),Object(v.jsxs)(l.a.Label,{children:["Descripci\xf3n extensa sobre qu\xe9 incluye el rubro:"," "]}),Object(v.jsx)(l.a.Control,{type:"text",value:r.description,onChange:N,name:"description",required:!0}),Object(v.jsx)(l.a.Label,{children:"Monto mensual objetivo para el rubro: "}),Object(v.jsx)(l.a.Control,{type:"number",value:r.limit,onChange:N,name:"limit",max:"10000000",min:"0",required:!0})]})}),Object(v.jsx)(u.a,{type:"submit",className:"spacedButton",children:"Guardar"})]})]})]})},S=r(35),N=r(9),k=r.n(N),T=(r(57),r(15)),E=r(34);k.a.locale("es"),k.a.defaultFormat("$0,0.00");var I=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)([]),i=Object(d.a)(a,2),O=i[0],m=i[1],h=Object(c.useState)([]),x=Object(d.a)(h,2),y=x[0],C=x[1],N=Object(c.useState)(!!JSON.parse(localStorage.getItem("showIncome"))&&JSON.parse(localStorage.getItem("showIncome"))),I=Object(d.a)(N,2),R=I[0],B=I[1],M=Object(c.useState)(!1),A=Object(d.a)(M,2),F=A[0],L=A[1],J=Object(c.useState)(!1),w=Object(d.a)(J,2),q=w[0],z=w[1],D=Object(c.useState)(""),G=Object(d.a)(D,2),P=G[0],H=G[1],$=Object(c.useState)(!1),K=Object(d.a)($,2),U=K[0],Q=K[1],V=Object(c.useState)(!1),W=Object(d.a)(V,2),X=W[0],Y=W[1],Z=Object(v.jsx)("td",{colspan:"6",children:Object(v.jsx)(b.a,{variant:"info",children:"No existen datos para la opci\xf3n elegida"})}),_=f(),ee=Object(c.useRef)(!0);Object(c.useEffect)((function(){g.getAll().then((function(e){var t=e.data;_.current&&(m(t.filter((function(e){return"Egreso"===e.kind}))),C(t.filter((function(e){return"Ingreso"===e.kind}))),n(!1))})).catch((function(){_.current&&(z(!0),H("No se ha podido conectar con el servidor"),ee.current=setTimeout((function(){z(!1),H("")}),1e4))}))}),[U,X,_]),Object(c.useEffect)((function(){return function(){z(!1),H(!1),Y(!1),Q(!1),L(!1),clearTimeout(ee.current)}}),[]);var te=function(e){g.delete(e).then((function(e){_.current&&(z(!1),Y(!1),Q(!0),ee.current=setTimeout((function(){return Q(!1)}),4e3))})).catch((function(){_.current&&(Y(!1),Q(!1),z(!0),H("No se ha podido borrar el movimiento"),ee.current=setTimeout((function(){z(!1),H("")}),1e4))})),localStorage.setItem("selectedCategory",JSON.stringify(Oe)),localStorage.setItem("activeFilter",JSON.stringify(ge)),localStorage.setItem("showIncome",JSON.stringify(R))},re=Object(c.useState)(),ce=Object(d.a)(re,2),ne=ce[0],ae=ce[1],ie=function(e){ae(R?y.filter((function(t){return t.id===e}))[0]:O.filter((function(t){return t.id===e}))[0]),L(!0)},oe=function(e){var t=e.target,r=t.name,c=t.value;ae(Object(s.a)(Object(s.a)({},ne),{},Object(o.a)({},r,c)))},se=Object(c.useState)([]),de=Object(d.a)(se,2),le=de[0],ue=de[1];Object(c.useEffect)((function(){p.getAll().then((function(e){var t=e.data;_.current&&ue(t.map((function(e){return e.category})))})).catch((function(){_.current&&(Y(!1),Q(!1),z(!0),H("No se ha podido borrar el movimiento"),ee.current=setTimeout((function(){z(!1),H("")}),1e4))}))}),[_]);var je=Object(c.useState)(JSON.parse(localStorage.getItem("selectedCategory"))?JSON.parse(localStorage.getItem("selectedCategory")):""),be=Object(d.a)(je,2),Oe=be[0],me=be[1],he=Object(c.useState)(!!JSON.parse(localStorage.getItem("activeFilter"))&&JSON.parse(localStorage.getItem("activeFilter"))),xe=Object(d.a)(he,2),ge=xe[0],pe=xe[1],fe=function(){pe(!1),me("Todos"),localStorage.setItem("selectedCategory",JSON.stringify("")),localStorage.setItem("activeFilter",JSON.stringify(!1))},ve=y.filter((function(e){return e.category===Oe})).map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.date.slice(0,10)}),Object(v.jsx)("td",{children:e.category}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:+e.amount.toFixed(2)}),Object(v.jsx)("td",{className:"editCell",onClick:function(){return ie(e.id)},children:"Editar"}),Object(v.jsx)("td",{className:"deleteCell",onClick:function(){return te(e.id)},children:"Borrar"})]},e.id)})),ye=y.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.date.slice(0,10)}),Object(v.jsx)("td",{children:e.category}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:k()(e.amount).format()}),Object(v.jsx)("td",{className:"editCell",onClick:function(){return ie(e.id)},children:"Editar"}),Object(v.jsx)("td",{className:"deleteCell",onClick:function(){return te(e.id)},children:"Borrar"})]},e.id)})),Ce=O.filter((function(e){return e.category===Oe})).map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.date.slice(0,10)}),Object(v.jsx)("td",{children:e.category}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:+e.amount.toFixed(2)}),Object(v.jsx)("td",{className:"editCell",onClick:function(){return ie(e.id)},children:"Editar"}),Object(v.jsx)("td",{className:"deleteCell",onClick:function(){return te(e.id)},children:"Borrar"})]},e.id)})),Se=O.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.date.slice(0,10)}),Object(v.jsx)("td",{children:e.category}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:k()(e.amount).format()}),Object(v.jsx)("td",{className:"editCell",onClick:function(){return ie(e.id)},children:"Editar"}),Object(v.jsx)("td",{className:"deleteCell",onClick:function(){return te(e.id)},children:"Borrar"})]},e.id)})),Ne=[Object(v.jsx)("option",{children:"Todos"},"Todos"),le.map((function(e){return Object(v.jsx)("option",{children:e},e)}))];return r?Object(v.jsx)("div",{className:"loading",children:Object(v.jsx)(E.a,{animation:"grow",variant:"success"})}):0===O.length&&0===y.length?Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"A\xfan no ten\xe9s movimientos cargados"}),Object(v.jsx)(T.b,{to:"/add",children:Object(v.jsx)("button",{children:" Sumar movimiento "})})]}):Object(v.jsxs)("div",{children:[F?null:Object(v.jsxs)("header",{className:"centeredHeader",children:[Object(v.jsxs)("h1",{children:["Listado de ",R?"ingresos":"gastos"," cargados"]}),U&&Object(v.jsx)(b.a,{variant:"success",onClose:function(){return Q(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:"Movimiento borrado con \xe9xito"})}),X&&Object(v.jsx)(b.a,{variant:"success",onClose:function(){return Y(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:"Movimiento editado con \xe9xito"})}),q&&Object(v.jsx)(b.a,{variant:"danger",onClose:function(){return z(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:P||"Error de servidor"})}),Object(v.jsxs)(u.a,{className:"spacedButton",onClick:function(){B(!R),localStorage.setItem("showIncome",JSON.stringify(!R))},variant:"primary",children:[" ","Mejor mostrame los ",R?"Gastos":"Ingresos"]}),Object(v.jsxs)(l.a,{children:[Object(v.jsx)(l.a.Label,{children:"Filtrame por el siguiente Rubro: "}),Object(v.jsx)(l.a.Control,{className:"civilizedDropdown",as:"select",value:Oe,onChange:function(e){"Todos"===e.target.value?fe():(pe(!0),me(e.target.value),localStorage.setItem("selectedCategory",JSON.stringify(e.target.value)),localStorage.setItem("activeFilter",JSON.stringify(!0)))},name:"category",children:Ne}),Object(v.jsxs)(u.a,{className:"spacedButton",onClick:fe,variant:"secondary",children:[" ","Resetear Filtro"]})]})]}),F?Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{className:"secondaryTitle",children:"Editando movimiento:"}),Object(v.jsx)(l.a,{onSubmit:function(e){e.preventDefault();try{var t={id:ne.id,date:ne.date,category:ne.category,description:ne.description,amount:ne.amount,kind:ne.kind};g.update(t.id,t).then((function(e){_.current&&(L(!1),z(!1),Q(!1),Y(!0),ee.current=setTimeout((function(){return Y(!1)}),4e3))})).catch((function(){_.current&&(Y(!1),Q(!1),z(!0),H("No se ha podido editar el movimiento"),ee.current=setTimeout((function(){z(!1),H("")}),1e4))}))}finally{L(!1),ae("")}},children:Object(v.jsxs)(j.a,{md:6,className:"centeredContainer",children:[Object(v.jsx)(l.a.Label,{children:"Fecha:"}),Object(v.jsx)(l.a.Control,{value:ne.date.slice(0,10),onChange:oe,type:"date",name:"date",required:!0}),Object(v.jsx)(l.a.Label,{children:"Categor\xeda:"}),Object(v.jsxs)(l.a.Control,{as:"select",value:ne.category,onChange:oe,name:"category",required:!0,children:[Object(v.jsx)("option",{}),Ne]}),Object(v.jsx)(l.a.Label,{children:"Descripci\xf3n:"}),Object(v.jsx)(l.a.Control,{value:ne.description,onChange:oe,type:"text",name:"description",required:!0}),Object(v.jsx)(l.a.Label,{children:"Monto:"}),Object(v.jsx)(l.a.Control,{value:ne.amount,onChange:oe,type:"number",name:"amount",max:"1000000",min:"0",required:!0}),Object(v.jsx)(u.a,{className:"spacedButton",type:"submit",variant:"primary",children:"Guardar Edici\xf3n"})," ",Object(v.jsx)(u.a,{className:"spacedButton",onClick:function(){L(!1),ae(void 0)},variant:"secondary",children:"Cancelar Edici\xf3n"})]})})]}):null,!1===F?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(S.a,{responsive:"md",striped:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Fecha"}),Object(v.jsx)("th",{children:"Rubro al que corresponde"}),Object(v.jsx)("th",{children:"Descripci\xf3n del gasto"}),Object(v.jsx)("th",{children:"Monto"}),Object(v.jsx)("th",{children:"Editar"}),Object(v.jsx)("th",{children:"Borrar"})]})}),Object(v.jsx)("tbody",{className:"tableText",children:!0===ge?R?ve&&ve.length>0?ve:Z:Ce&&Ce.length>0?Ce:Z:R?ye&&ye.length>0?ye:Z:Se&&Se.length>0?Se:Z})]})}):null]})},R=r(73),B=r(71);var M=function(){k.a.locale("es"),k.a.defaultFormat("$0,0.00");var e=Object(c.useState)(0),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)([]),i=Object(d.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)(!1),u=Object(d.a)(l,2),j=u[0],O=u[1],m=Object(c.useState)(!1),h=Object(d.a)(m,2),x=h[0],y=h[1],C=Object(c.useState)(""),N=Object(d.a)(C,2),T=N[0],I=N[1];Object(c.useEffect)((function(){g.getAll().then((function(e){var t=e.data;s(t),n((function(e){return e+1}))})).catch((function(){y(!0),I("No se ha podido conectar con el servidor"),setTimeout((function(){y(!1),I("")}),1e4)}))}),[j]);var M=Object(c.useState)([]),A=Object(d.a)(M,2),F=A[0],L=A[1],J=Object(c.useState)([]),w=Object(d.a)(J,2),q=w[0],z=w[1],D=f(),G=Object(c.useRef)(!0);Object(c.useEffect)((function(){p.getAll().then((function(e){var t=e.data;D.current&&(L(t),z(t.map((function(e){return e.category}))),n((function(e){return e+1})))})).catch((function(){D.current&&(y(!0),I("No se ha podido conectar con el servidor"),G.current=setTimeout((function(){y(!1),I("")}),1e4))}))}),[j,D]);var P=Object(c.useState)([]),H=Object(d.a)(P,2),$=H[0],K=H[1];Object(c.useEffect)((function(){if(2===r){var e,t=Object(B.a)(q);try{var c=function(){var t=e.value,r=o.filter((function(e){return e.category===t})),c=r.filter((function(e){return"Ingreso"===e.kind})).reduce((function(e,t){return e+t.amount}),0)-r.filter((function(e){return"Egreso"===e.kind})).reduce((function(e,t){return e+t.amount}),0);K((function(e){return[].concat(Object(R.a)(e),[c])})),n(!0)};for(t.s();!(e=t.n()).done;)c()}catch(a){t.e(a)}finally{t.f()}}}),[r]);var U=F.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.category}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:k()(e.limit).format()}),Object(v.jsx)("td",{children:o.filter((function(t){return t.category===e.category})).length}),Object(v.jsx)("td",{children:k()($[t]).format()}),Object(v.jsx)("td",{className:e.limit-$[t]<0?"redText":"",children:$[t]>0?k()(e.limit-$[t]).format():k()(e.limit+$[t]).format()}),Object(v.jsx)("td",{className:"deleteCell",onClick:function(){return t=e.id,r=e.category,void(0===o.filter((function(e){return e.category===r})).length?p.delete(t).then((function(e){D.current&&(y(!1),O(!0),G.current=setTimeout((function(){return O(!1)}),4e3))})).catch((function(){D.current&&(O(!1),y(!0),I("No se ha podido borrar la categor\xeda"),G.current=setTimeout((function(){y(!1),I("")}),1e4))})):D.current&&(O(!1),y(!0),I("Esta categor\xeda a\xfan tiene movimientos. Se deben borrar todos los movimientos de la categor\xeda para poder borrarla."),G.current=setTimeout((function(){y(!1),I("")}),1e4)));var t,r},children:"Borrar"})]},e.id)})),Q=k()(F.reduce((function(e,t){return e+t.limit}),0)).format(),V=k()(F.reduce((function(e,t){return e+t.limit}),0)-$.reduce((function(e,t){return t>0?e+t:e-t}),0)).format();return r&&1!==r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Presupuesto actual"}),j&&Object(v.jsx)(b.a,{variant:"success",onClose:function(){return O(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:"L\xednea de presupuesto borrada con \xe9xito"})}),x&&Object(v.jsx)(b.a,{variant:"danger",onClose:function(){return y(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:T||"Error de servidor"})}),Object(v.jsxs)(S.a,{responsive:"md",striped:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Rubro"}),Object(v.jsx)("th",{children:"Descripci\xf3n"}),Object(v.jsx)("th",{children:"Monto Previsto"}),Object(v.jsx)("th",{children:"Cantidad de Movimientos Registrados"}),Object(v.jsx)("th",{children:"Movimientos Registrados (ingresos-egreso)"}),Object(v.jsx)("th",{children:"Diferencia"}),Object(v.jsx)("th",{children:"Borrar"})]})}),Object(v.jsxs)("tbody",{className:"tableText",children:[r&&U,Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Totales:"}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:Q}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:V}),Object(v.jsx)("th",{})]})]})]})]}):Object(v.jsx)("div",{className:"loading",children:Object(v.jsx)(E.a,{animation:"grow",variant:"success"})})},A=[{date:"2021-04-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-04-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-03-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-03-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-04-01",category:"Trabajos",description:"Trabajos de herrer\xeda realizados por Ricarda",amount:1e4,kind:"Ingreso"},{date:"2021-04-01",category:"Mercado",description:"Art\xedculos de limpieza para Ricarda",amount:3e3,kind:"Egreso"},{date:"2021-04-01",category:"Mercado",description:"Compra mensual de Ricarda",amount:7500,kind:"Egreso"},{date:"2021-04-01",category:"Mercado",description:"Compras de la verduler\xeda",amount:3e3,kind:"Egreso"},{date:"2021-03-01",category:"Mercado",description:"Art\xedculos de limpieza para Ricarda",amount:3e3,kind:"Egreso"},{date:"2021-03-01",category:"Mercado",description:"Compra mensual de Ricarda",amount:7500,kind:"Egreso"},{date:"2021-03-01",category:"Mercado",description:"Compras de la verduler\xeda",amount:3e3,kind:"Egreso"},{date:"2021-03-01",category:"Servicios",description:"Garrafa de gas",amount:1e3,kind:"Egreso"},{date:"2021-03-01",category:"Servicios",description:"Garrafa de gas",amount:1e3,kind:"Egreso"},{date:"2021-04-01",category:"Servicios",description:"Garrafa de gas",amount:1e3,kind:"Egreso"},{date:"2021-04-01",category:"Servicios",description:"Garrafa de gas",amount:1e3,kind:"Egreso"},{date:"2021-04-01",category:"Servicios",description:"Devoluci\xf3n se\xf1a",amount:500,kind:"Ingreso"},{date:"2021-04-01",category:"Servicios",description:"Electricidad del mes de marzo",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Servicios",description:"Agua del mes de marzo",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Comidas",description:"Cena cumplea\xf1os",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Comidas",description:"Cena cumplea\xf1os",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Comidas",description:"Cena cumplea\xf1os",amount:2e3,kind:"Egreso"},{date:"2021-04-01",category:"Comidas",description:"Cena cumplea\xf1os",amount:2e3,kind:"Egreso"}],F=[{category:"Comidas",description:"Gastos en comer en la calle",limit:1e4},{category:"Mercado",description:"Compras en el mercado",limit:1e4},{category:"Servicios",description:"Pagos de servicios p\xfablicos",limit:5e3},{category:"Trabajos",description:"Ingresos por trabajos",limit:8e4}],L=r(39);function J(e){var t=e.show,r=e.message,c=e.handleCancel,n=e.handleOK;return Object(v.jsxs)(L.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(v.jsx)(L.a.Header,{closeButton:!0,children:Object(v.jsx)(L.a.Title,{id:"contained-modal-title-vcenter",children:"Modal de Confirmaci\xf3n"})}),Object(v.jsx)(L.a.Body,{children:Object(v.jsx)("p",{children:r})}),Object(v.jsxs)(L.a.Footer,{children:[Object(v.jsx)(u.a,{variant:"secondary",onClick:c,children:"Cancelar"}),Object(v.jsx)(u.a,{variant:"primary",onClick:n,children:"Confirmar"})," "]})]})}var w=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(!1),i=Object(d.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)(!1),j=Object(d.a)(l,2),O=j[0],m=j[1],h=Object(c.useState)(""),x=Object(d.a)(h,2),y=x[0],C=x[1],S=Object(c.useState)(!1),N=Object(d.a)(S,2),k=N[0],E=N[1],I=f(),R=function(e){if(E(!1),e)try{I.current&&(p.deleteAll(),g.deleteAll(),m(!1),n(!1),s(!0))}catch(t){I.current&&(n(!1),s(!1),m(!0),C("No se han podido borrar los datos."))}};return Object(v.jsxs)("div",{className:"centeredContainer",children:[Object(v.jsx)("h1",{children:"Opciones de configuraci\xf3n"}),Object(v.jsx)(u.a,{className:"spacedButton",onClick:function(){var e=!0;F.forEach((function(t){var r={category:t.category,description:t.description,limit:t.limit};p.create(r).then((function(t){!0===e&&(A.forEach((function(e){var t={date:e.date,category:e.category,description:e.description,amount:e.amount,kind:e.kind};g.create(t).then((function(e){I.current&&(m(!1),s(!1),n(!0))})).catch((function(e){I.current&&(n(!1),s(!1),m(!0),C("No se han podido cargar datos de prueba, ya est\xe1n cargados o se ha producido un error."))}))})),e=!1)})).catch((function(e){I.current&&(n(!1),s(!1),m(!0),C("No se han podido cargar datos de prueba, ya est\xe1n cargados o se ha producido un error."))}))}))},variant:"secondary",children:"Cargar datos de prueba"})," ",Object(v.jsx)(u.a,{className:"spacedButton",onClick:function(){E(!0)},variant:"danger",children:"Borrar todos los datos"}),r&&Object(v.jsx)("div",{children:Object(v.jsxs)(b.a,{variant:"success",onClose:function(){return n(!1)},dismissible:!0,children:[Object(v.jsx)("p",{className:"blueText",children:"Datos de prueba cargados exitosamente."}),Object(v.jsx)(T.b,{to:"/entries",children:Object(v.jsx)(u.a,{variant:"primary",children:" Ir al listado "})})]})}),o&&Object(v.jsx)(b.a,{variant:"success",onClose:function(){return s(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:"Se borraron todos los datos exitosamente"})}),O&&Object(v.jsx)(b.a,{variant:"danger",onClose:function(){return m(!1)},dismissible:!0,children:Object(v.jsx)("p",{className:"redText",children:y})}),Object(v.jsx)(J,{show:k,message:"Esto es irreversible, vas a borrar todos los datos y no se puede recuperar, \xbfest\xe1s seguro?",onHide:function(){return E(!1)},handleCancel:function(){return R(!1)},handleOK:function(){return R(!0)}})]})};var q=function(){k.a.locale("es"),k.a.defaultFormat("$0,0.00");var e=Object(c.useState)([]),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(0),i=Object(d.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)(0),u=Object(d.a)(l,2),j=u[0],O=u[1],m=Object(c.useState)(!0),h=Object(d.a)(m,2),x=h[0],p=h[1],y=Object(c.useState)(!1),C=Object(d.a)(y,2),N=C[0],T=C[1],I=Object(c.useState)(""),R=Object(d.a)(I,2),B=R[0],M=R[1],A=f(),F=Object(c.useRef)(!0);Object(c.useEffect)((function(){g.getAll().then((function(e){var t=e.data;A.current&&(n(t),s(t.filter((function(e){return"Egreso"===e.kind})).reduce((function(e,t){return e+t.amount}),0)),O(t.filter((function(e){return"Ingreso"===e.kind})).reduce((function(e,t){return e+t.amount}),0)),p(!1))})).catch((function(e){A.current&&(T(!0),M("No se pudo recuperar la informaci\xf3n, problemas de conexi\xf3n con el servidor."),F.current=setTimeout((function(){T(!1),M("")}),15e3))}))}),[A]);var L=r.filter((function(e){return null!==e.date})).sort((function(e,t){return e.createdAt<t.createdAt?1:-1})).slice(0,10).map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.date.slice(0,10)}),Object(v.jsx)("td",{children:e.category}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:k()(e.amount).format()}),Object(v.jsx)("td",{children:e.kind})]},e.id)}));return x?Object(v.jsx)("div",{className:"loading",children:Object(v.jsx)(E.a,{animation:"grow",variant:"success"})}):Object(v.jsxs)("div",{className:"centeredContainer",children:[Object(v.jsx)("h1",{children:"Posici\xf3n consolidada"}),N&&Object(v.jsx)(b.a,{variant:"danger",onClose:function(){return T(!1)},dismissible:!0,children:Object(v.jsx)("p",{children:B})}),Object(v.jsxs)("div",{className:"budgetSummary",children:[Object(v.jsxs)("p",{children:["Total de ingresos: ",k()(j).format()]}),Object(v.jsxs)("p",{className:"redText",children:["Total de gastos: ",k()(o).format()]}),Object(v.jsxs)("p",{className:j-o>0?"budgetSummaryResult":"budgetSummaryResult redText",children:["Saldo actual: ",k()(j-o).format()]})]}),Object(v.jsx)("h2",{className:"secondaryTitle",children:"\xdaltimos 10 movimientos cargados"}),Object(v.jsxs)(S.a,{responsive:"md",hover:!0,striped:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Fecha"}),Object(v.jsx)("th",{children:"Rubro al que corresponde"}),Object(v.jsx)("th",{children:"Descripci\xf3n del movimiento"}),Object(v.jsx)("th",{children:"Monto"}),Object(v.jsx)("th",{children:"Tipo"})]})}),Object(v.jsx)("tbody",{className:"tableText",children:L})]})]})},z=r(42),D=r(72),G=r.p+"static/media/logo.3a3d5c4c.svg";function P(){return Object(v.jsxs)(z.a,{bg:"dark",variant:"dark",sticky:"top",expand:"md",children:[Object(v.jsx)(z.a.Brand,{children:Object(v.jsxs)(T.b,{to:"/",children:["/Presupuestar\xe9/ ",Object(v.jsx)("img",{className:"logo",src:G,alt:"logo"})]})}),Object(v.jsx)(z.a.Toggle,{}),Object(v.jsx)(z.a.Collapse,{children:Object(v.jsxs)(D.a,{className:"mr-auto",children:[Object(v.jsx)(T.b,{to:"/entries",className:"nav-link",children:"Listar movimientos"}),Object(v.jsx)(T.b,{to:"/add",className:"nav-link",children:"Sumar movimiento"}),Object(v.jsx)(T.b,{to:"/addBudget",className:"nav-link",children:"Sumar categor\xeda de movimiento"}),Object(v.jsx)(T.b,{to:"/budget",className:"nav-link",children:"Presupuesto"}),Object(v.jsx)(T.b,{to:"/config",className:"nav-link",children:"Configuraci\xf3n"})]})})]})}var H=r(10);var $=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(P,{}),Object(v.jsx)("div",{children:Object(v.jsxs)(H.c,{children:[Object(v.jsx)(H.a,{exact:!0,path:"/budget",component:M}),Object(v.jsx)(H.a,{exact:!0,path:"/entries",component:I}),Object(v.jsx)(H.a,{exact:!0,path:"/add",component:y}),Object(v.jsx)(H.a,{exact:!0,path:"/addBudget",component:C}),Object(v.jsx)(H.a,{exact:!0,path:"/config",component:w}),Object(v.jsx)(H.a,{exact:!0,path:"/",component:q})]})})]})};i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(T.a,{children:Object(v.jsx)($,{})})}),document.getElementById("root"))},55:function(e,t,r){}},[[108,1,2]]]);
//# sourceMappingURL=main.1cb1142f.chunk.js.map